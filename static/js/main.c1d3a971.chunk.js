(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,i){e.exports=i(28)},18:function(e,t,i){},20:function(e,t,i){},22:function(e,t,i){},24:function(e,t,i){},26:function(e,t,i){},28:function(e,t,i){"use strict";i.r(t);var n=i(0),s=i.n(n),u=i(9),r=i.n(u),o=i(7),a=i.n(o),c=i(10),h=i(2),l=i(3),p=i(5),v=i(4),d=i(6),y=i(1),f=(i(18),function(){return s.a.createElement("div",{id:"header"},s.a.createElement("div",{className:"custom-row"},s.a.createElement("h2",null,"Azure solution architectures"),s.a.createElement("p",null,"Architectures to help you design and implement secure, highly-available, performant and resilient solutions on Azure. ")))}),Q=(i(20),function(e){var t=e.onchangeHandler,i=e.architecturesList,n=e.selectRef;return s.a.createElement("div",{id:"architectures-select-box"},s.a.createElement("label",{htmlFor:"architecture-solutions"},"Solutions")," ",s.a.createElement("br",null),s.a.createElement("select",{id:"architecture-solutions",onChange:t,ref:n},function(e){return Object.keys(e).map(function(t){return s.a.createElement("option",{value:t,key:t},e[t])})}(i)))}),E=function(e){e.index;var t=e.question,i=e.group,n=e.questionCount;return s.a.createElement("div",{className:"question","data-id":t.id,"data-group":i},s.a.createElement("span",null,n,"."),s.a.createElement("span",{className:"question-title"},t.question),e.children)},m=function(e){var t=e.onOptionSelectHandler,i=e.questionObj,n=e.questionCount,u=e.index,r=e.isChecked;return s.a.createElement("div",{className:"option",key:i.id+u},s.a.createElement("input",{type:"radio",id:i.id+u,name:n,onChange:t,checked:r}),s.a.createElement("label",{htmlFor:i.id+u,className:"pointer"},e.children))},A=function(e){var t=function(e,t,i,n){return e.choices.split("|").map(function(u,r){var o=i===u;return s.a.createElement(m,{onOptionSelectHandler:n,questionObj:e,questionCount:t,index:r,key:r,isChecked:o},u)})};return s.a.createElement("div",{id:"questions-container"},function(e){var i=e.questionsObj,n=e.onOptionSelectHandler,u=e.questionResponseMap,r=0;return Object.keys(i).map(function(e){return i[e].map(function(i,o){if(i.isActive){r+=1;var a=u.hasOwnProperty(i.id)?u[i.id].response:"";return s.a.createElement(E,{key:o,question:i,index:o,group:e,questionCount:r},t(i,r,a,n))}return s.a.createElement(s.a.Fragment,null)})})}(e))},g=(i(22),function(e){function t(e){return Object(h.a)(this,t),Object(p.a)(this,Object(v.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"renderEntities",value:function(e){var t=[];for(var i in e){var n=s.a.createElement("div",{key:i,className:e[i].isActive?"show":"hide",nop:!0},e[i].name);t.push(n)}return t}},{key:"render",value:function(){var e=this.props,t=e.groupData,i=e.show;return s.a.createElement("div",{className:i?"show outer-box":"hide outer-box"},s.a.createElement("div",{className:"inner-box"},this.renderEntities(t.entities)),s.a.createElement("span",{class:"arrow"},"-----\x3e"))}}]),t}(n.Component)),q=function(e){function t(e){var i;return Object(h.a)(this,t),(i=Object(p.a)(this,Object(v.a)(t).call(this,e))).renderGroupBox=i.renderGroupBox.bind(Object(y.a)(Object(y.a)(i))),i}return Object(d.a)(t,e),Object(l.a)(t,[{key:"renderGroupBox",value:function(e){var t=[];for(var i in e)t.push(s.a.createElement(g,{key:i,groupData:e[i],show:e[i].isActive}));return t}},{key:"render",value:function(){return s.a.createElement("div",{id:"diagram-container"},s.a.createElement("div",{id:"diagram-wrapper"},this.renderGroupBox(this.props.architectureDetails)))}}]),t}(n.Component),k=(i(24),function(e){function t(e){var i;return Object(h.a)(this,t),(i=Object(p.a)(this,Object(v.a)(t).call(this,e))).state={render:!0},i.groupList=Object.keys(i.props.architectureDetails),i.groupListPointer=1,i.groupQueue=[i.groupList[0]],i.groupQueueHead=0,i.activeGroup=i.groupList[0],i.entityQueue=[],i.entityQueueHead=0,i.activeEntity="",i.questionQueue=[],i.questionQueueHead=0,i.activeQuestion="",i.questionResponseMap={},i.filterQuestionsPerGroups=i.filterQuestionsPerGroups.bind(Object(y.a)(Object(y.a)(i))),i.onOptionSelectHandler=i.onOptionSelectHandler.bind(Object(y.a)(Object(y.a)(i))),i}return Object(d.a)(t,e),Object(l.a)(t,[{key:"addGroupsToQueue",value:function(e){var t=this,i=Object.keys(e);i.length>0&&i.forEach(function(e){!t.groupQueue.includes(e)&&t.groupQueue.push(e)})}},{key:"setActiveGroup",value:function(e){this.activeGroup=this.groupQueue[this.groupQueueHead],e[this.activeGroup].isActive=!0,this.groupQueueHead+=1}},{key:"resetGroupQueue",value:function(e){var t=this,i=this.props.architectureDetails;this.groupQueue=this.groupQueue.slice(0,e+1),this.groupQueueHead=e;for(var n=this.groupQueueHead-1;n>=0;n--){var s=i[this.groupQueue[n]].relatedGroups;s.hasOwnProperty(this.groupQueue[this.groupQueueHead])&&Object.keys(s).forEach(function(e){!t.groupQueue.includes(e)&&t.groupQueue.push(e)});break}this.setActiveGroup(this.props.architectureDetails)}},{key:"checkForActiveParentEntities",value:function(e,t){var i=!0,n=!1;for(var s in e){var u=e[s],r=!0,o=!1,a=void 0;try{for(var c,h=u[Symbol.iterator]();!(r=(c=h.next()).done);r=!0){var l=c.value;if(t[s].entities[l].isActive){i=!1,n=!0;break}}}catch(p){o=!0,a=p}finally{try{r||null==h.return||h.return()}finally{if(o)throw a}}if(!i)break}return n}},{key:"addEntitiesToQueue",value:function(e){for(var t in e){var i=e[t].parentEntities;Object.keys(i).length>0?this.checkForActiveParentEntities(i,this.props.architectureDetails)&&this.entityQueue.push(t):this.entityQueue.push(t)}console.log(this.entityQueue)}},{key:"setActiveEntity",value:function(){this.activeEntity=this.entityQueue[this.entityQueueHead],this.entityQueueHead+=1}},{key:"resetEntityQueue",value:function(){this.entityQueue=[],this.entityQueueHead=0,this.activeEntity=""}},{key:"addQuestionsToQueue",value:function(e){var t=this;e.forEach(function(e){t.questionQueue.includes(e)||t.questionQueue.push(e)})}},{key:"setActiveQuestion",value:function(){this.activeQuestion=this.questionQueue[this.questionQueueHead],this.questionQueueHead=this.questionQueueHead+1}},{key:"filterQuestionsPerGroups",value:function(e,t,i){var n=this.questionQueue.slice(0,this.questionQueueHead);i[e].forEach(function(e){e.isActive=n.includes(parseInt(e.id))},this)}},{key:"resetQuestionQueue",value:function(e){this.questionQueue=this.questionQueue.slice(0,e+1),this.questionQueueHead=e,console.log("questionQueue: ",this.questionQueue)}},{key:"ifGroupQueueHasElements",value:function(){return this.groupQueue.length>this.groupQueueHead}},{key:"ifEntityQueueHasElements",value:function(){return this.entityQueue.length>this.entityQueueHead}},{key:"ifQuestionQueueHasElements",value:function(){return this.questionQueue.length>this.questionQueueHead}},{key:"performActiveGroupUpdation",value:function(e,t){if(this.addGroupsToQueue(e[this.activeGroup].relatedGroups),this.ifGroupQueueHasElements())for(this.setActiveGroup(e),this.addEntitiesToQueue(e[this.activeGroup].entities);this.ifEntityQueueHasElements();){this.setActiveEntity(e[this.activeGroup].entities);var i=e[this.activeGroup].entities[this.activeEntity].questions;if(i.length>0){this.addQuestionsToQueue(i),this.setActiveQuestion(),this.filterQuestionsPerGroups(this.activeGroup,this.activeQuestion,t);break}}}},{key:"performActiveEntityUpdation",value:function(e,t,i){for(var n=!0;this.ifEntityQueueHasElements();){this.setActiveEntity(e[this.activeGroup].entities);var s=e[this.activeGroup].entities[this.activeEntity].questions;if(i.includes(this.activeEntity)&&s.length>0){n=!1,this.addQuestionsToQueue(s),this.setActiveQuestion(),this.filterQuestionsPerGroups(this.activeGroup,this.activeQuestion,t);break}}n&&(this.resetEntityQueue(),this.performActiveGroupUpdation(e,t))}},{key:"filterEntitiesOnOptionSelect",value:function(e,t,i,n){var s=this,u=[],r=Object.keys(n),o=i[e],a=this.entityQueue.slice(0,this.entityQueueHead-1);for(var c in o)o[c].split("|").includes(t)&&u.push(c);for(var h in 0===u.length&&(u=r.filter(function(e){return-1===Object.keys(o).indexOf(e)})),u=u.filter(function(e){return a.includes(e)?n[e].isActive:s.entityQueue.includes(e)}),n)n[h].isActive=u.includes(h);return console.log("filtered: ",u),u}},{key:"isQuestionAlreadyAnswered",value:function(e){return this.questionResponseMap.hasOwnProperty(e)}},{key:"setQuestionResponseMap",value:function(e,t,i){this.questionResponseMap[e]={entity:t,response:i}}},{key:"resetActiveGroups",value:function(e,t){for(var i in this.resetGroupQueue(this.groupQueue.indexOf(e)),t){var n=this.groupQueue.indexOf(i);t[i].isActive=this.groupQueue.includes(i)&&n<this.groupQueueHead}}},{key:"resetActiveEntitiesForInactiveGroups",value:function(e){Object.keys(e).forEach(function(t){if(!e[t].isActive)for(var i in e[t].entities)e[t].entities[i].isActive=!1})}},{key:"resetActiveQuestionsForInactiveGroups",value:function(e,t){Object.keys(e).forEach(function(i){t[i].isActive||e[i].forEach(function(e){e.isActive=!1})})}},{key:"getActiveEntityForAlreadyAnsweredQuestion",value:function(e){return this.questionResponseMap[e].entity}},{key:"resetActiveEntitiesToRightOfEntityQueueHead",value:function(e){var t=this;this.entityQueue.forEach(function(i,n){n>=t.entityQueueHead&&(e[i].isActive=!1)})}},{key:"resetActiveEntitiesToLeftOfEntityQueueHead",value:function(e,t){var i=this,n=e.entities;this.entityQueue.forEach(function(e,s){s<i.entityQueueHead-1&&i.getEntityQuestions(n[e]).forEach(function(s){if(i.questionQueue.includes(s)){var u=t[s][e],r=i.questionResponseMap[s].response;n[e].isActive=u===r}else n[e].isActive=!1})})}},{key:"resetQuestionResponseMap",value:function(){for(var e in this.questionResponseMap)!this.questionQueue.includes(parseInt(e))&&delete this.questionResponseMap[e]}},{key:"getEntityQuestions",value:function(e){return e.questions}},{key:"onOptionSelectHandler",value:function(e){var t=this.props,i=t.architectureDetails,n=t.questionDetails,s=t.questionEntityMapping,u=e.target.closest(".question").getAttribute("data-group"),r=e.target.closest(".question").getAttribute("data-id"),o=e.target.nextElementSibling.innerHTML;if(this.isQuestionAlreadyAnswered(r)){this.resetActiveGroups(u,i),this.resetActiveEntitiesForInactiveGroups(i),this.resetActiveQuestionsForInactiveGroups(n,i),this.resetEntityQueue(),this.resetQuestionQueue(this.questionQueue.indexOf(parseInt(r))),this.addEntitiesToQueue(i[this.activeGroup].entities),this.entityQueueHead=this.entityQueue.indexOf(this.getActiveEntityForAlreadyAnsweredQuestion(r)),this.setActiveEntity();var a=i[this.activeGroup].entities[this.activeEntity].questions;this.addQuestionsToQueue(a),this.setActiveQuestion(),this.filterQuestionsPerGroups(this.activeGroup,this.activeQuestion,n),this.resetActiveEntitiesToRightOfEntityQueueHead(i[u].entities),this.resetActiveEntitiesToLeftOfEntityQueueHead(i[u],s),this.resetQuestionResponseMap()}this.setQuestionResponseMap(r,this.activeEntity,o);var c=this.filterEntitiesOnOptionSelect(r,o,s,i[u].entities);c.includes(this.activeEntity)&&this.ifQuestionQueueHasElements()?(this.setActiveQuestion(),this.filterQuestionsPerGroups(this.activeGroup,this.activeQuestion,n)):this.performActiveEntityUpdation(i,n,c),this.setState(function(){return{render:!0}})}},{key:"componentWillMount",value:function(){var e=this.props,t=e.architectureDetails,i=e.questionDetails,n=this.activeGroup;this.addGroupsToQueue(t[n].relatedGroups),this.setActiveGroup(t),this.addEntitiesToQueue(t[n].entities),this.setActiveEntity(t[n].entities),this.addQuestionsToQueue(t[n].entities[this.activeEntity].questions),this.setActiveQuestion(),this.filterQuestionsPerGroups(n,this.activeQuestion,i)}},{key:"render",value:function(){return s.a.createElement("div",{id:"workspace"},s.a.createElement(A,{questionsObj:this.props.questionDetails,onOptionSelectHandler:this.onOptionSelectHandler,questionResponseMap:this.questionResponseMap}),s.a.createElement(q,{architectureDetails:this.props.architectureDetails}))}}]),t}(n.Component)),O=function(){var e={controllers:{},url:"http://localhost:3003/"};return e.controllers.getArchitecturesList="GetArchitecturesList",e.controllers.getArchitectureDetails="GetArchitectureDetails",e.controllers.getQuestionDetails="GetQuestionDetails",e.controllers.getQuestionEntityMapping="GetQuestionEntityMapping",{appConfig:e}}(),b={1:{name:"architecture 1",groups:{1:{name:"group 1",isActive:!1,relatedGroups:{2:"con1",3:"con2"},entities:{1:{name:"entity1",isActive:!1,parentEntities:{},questions:[1]},2:{name:"entity2",isActive:!1,parentEntities:{},questions:[2]}}},2:{name:"group 2",isActive:!1,relatedGroups:{},entities:{3:{name:"entity3",isActive:!1,parentEntities:{1:["1"]},questions:[3]},4:{name:"entity4",isActive:!1,parentEntities:{1:["2"]},questions:[4]}}},3:{name:"group 3",isActive:!1,relatedGroups:{4:null},entities:{5:{name:"entity5",isActive:!1,parentEntities:{1:["1"]},questions:[5]},6:{name:"entity6",isActive:!1,parentEntities:{1:["2"]},questions:[6]}}},4:{name:"group 4",isActive:!1,relatedGroups:{5:null},entities:{7:{name:"entity7",isActive:!1,parentEntities:{3:["5"]},questions:[7]},8:{name:"entity8",isActive:!1,parentEntities:{3:["5","6"]},questions:[8]}}},5:{name:"group 5",isActive:!1,relatedGroups:{},entities:{9:{name:"entity9",isActive:!1,parentEntities:{4:["7"]},questions:[9]},10:{name:"entity10",isActive:!1,parentEntities:{4:["8"]},questions:[10]},11:{name:"entity11",isActive:!1,parentEntities:{4:["7","8"]},questions:[10,11]}}}}}},G={1:{groups:{1:[{id:"1",question:"Do you need entity1 in your architecture solution?",choices:"yes|no",isActive:!1},{id:"2",question:"Do you need entity2 in your architecture solution?",choices:"yes|no",isActive:!1}],2:[{id:"3",question:"Do you need entity3 in your architecture solution ?",choices:"yes|no",isActive:!1},{id:"4",question:"Do you need entity4 in your architecture solution ?",choices:"yes|no",isActive:!1}],3:[{id:"5",question:"Do you need entity5 in your architecture solution ?",choices:"yes|no",isActive:!1},{id:"6",question:"Do you need entity6 in your architecture solution ?",choices:"yes|no",isActive:!1}],4:[{id:"7",question:"Do you need entity7 in your architecture solution ?",choices:"yes|no",isActive:!1},{id:"8",question:"Do you need entity8 in your architecture solution ?",choices:"yes|no",isActive:!1}],5:[{id:"9",question:"Do you need entity9 in your architecture solution ?",choices:"yes|no",isActive:!1},{id:"10",question:"Do you need entity10 or  entity 11 in your architecture solution ?",choices:"yes|no",isActive:!1},{id:"11",question:"Do you need entity11 in your architecture solution ?",choices:"yes|no",isActive:!1}]}}},H={1:{1:"yes"},2:{2:"yes"},3:{3:"yes"},4:{4:"yes"},5:{5:"yes"},6:{6:"yes"},7:{7:"yes"},8:{8:"yes"},9:{9:"yes"},10:{10:"yes",11:"no"},11:{11:"yes"}},j={1:"architecture 1"},D=(i(26),function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(p.a)(this,Object(v.a)(t).call(this))).defaultArchitectureId=1,e.architecturesList={},e.architectureDetails={},e.questionDetails={},e.questionEntityMapping={},e.selectedDropdownNode=s.a.createRef(),e.state={architectureId:0},e.selectArchitecture=e.selectArchitecture.bind(Object(y.a)(Object(y.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(a.a.mark(function e(){var t,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=O.appConfig,t.url,i=t.controllers,i.getArchitecturesList,i.getArchitectureDetails,i.getQuestionDetails,i.getQuestionEntityMapping,this.architecturesList=j,this.architectureDetails=b,this.questionDetails=G,this.questionEntityMapping=H,this.setState(function(){return{architectureId:1}});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"selectArchitecture",value:function(){this.selectedDropdownNode.current.value;this.setState(function(){return{architectureId:1}})}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(f,null),0!==this.state.architectureId?s.a.createElement(s.a.Fragment,null,s.a.createElement(Q,{architecturesList:this.architecturesList,onchangeHandler:this.selectArchitecture,selectRef:this.selectedDropdownNode}),s.a.createElement(k,{architectureDetails:this.architectureDetails[this.state.architectureId].groups,questionDetails:this.questionDetails[this.state.architectureId].groups,questionEntityMapping:this.questionEntityMapping})):"")}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,2,1]]]);
//# sourceMappingURL=main.c1d3a971.chunk.js.map